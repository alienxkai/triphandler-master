{% extends '/backoffice/index.html.twig' %}

{% block page_title %} Admin Page - Trip Handlers - User Management {% endblock %}

{% block maincontent %}
<div class="span10">
    <div class="widget widget-table action-table">
        <div class="widget-header"> <i class="icon-th-list"></i>
            <h3> {%  block header_title %} User List {% endblock %} </h3>
            <a href="{{ path('platform_user_insertpage') }}" class="btn btn-primary btn-small pull-right btn-header" data-toggle="modal" data-target="#myModal" >
                <i class="icon-plus"></i>&nbsp; Add
            </a>
            <div id="myModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                    </div>

                </div>
            </div>

        </div>
        <!-- /widget-header -->
        <div class="widget-content">
            <table class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th> Id </th>
                    <th> Username </th>
                    <th> Mail address </th>
                    <th> Role </th>
                    <th> Type </th>
                    <th class="td-actions"> </th>
                </tr>
                </thead>
                <tbody>

                    {% if users is not empty %}
                        {% for user in users %}
                            <tr>
                                <td> {{ user.userid }} </td>
                                <td> {{ user.username }} </td>
                                <td> {{ user.mail }} </td>
                                <td> {{ user.userrole.userrolename }} </td>
                                <td> {{ user.usertype.usertypename }} </td>
                                <td class="td-actions">
                                    <a href="{{ path('platform_user_updatepage', {'userid': user.userid}) }}" data-toggle="modal" data-target="#editModal-{{ user.userid }}">
                                        <img src="/back-office/icons/16x16/page_edit.png">
                                    </a>
                                    <a href="{{ path('platform_user_delete', {'userid': user.userid}) }}"  class="be-confirmed">
                                        <img src="/back-office/icons/16x16/cross.png">
                                    </a>
                                </td>
                            </tr>
                            <div id="editModal-{{ user.userid }}" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content"></div>
                                </div>
                            </div>
                        {% endfor %}
                    {% else %}
                        <tr >
                            <td colspan="6" class="text-center">No items yet</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
        <!-- /widget-content -->
    </div>
    <!-- /widget -->
</div>
<!-- /span10 -->

{% endblock %}